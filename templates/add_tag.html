{% extends "layout.html" %}

{% block content %}
<body>
    <h1>Add a tag to question</h1>
    <form action="/question/{{ question_id }}/new-tag" method="POST">
        <label for="current_tags">Tag:</label>
        <select id="current_tags" name="tag">
            <option value="" selected disabled hidden>Choose here</option>
            <option value="add_new_tag">Add new tag</option>
            {% for tag in current_tags %}
                <option value="{{ tag['id'] }}">{{ tag['name'] }}</option>
            {% endfor %}
        </select>

        <label for="new_tag_input">or add a new tag</label><br>
        <input class="new_tag_window" type="text" id="new_tag_input" name="new_tag" placeholder="Enter new tag">
        <button type="submit">Add Tag</button>
    </form><br>

    <form action="/list">
        <button class="button1" type="submit">List of Questions</button>
    </form>
    <form action="/">
        <button class="button1" type="submit">Main Page</button>
    </form>

    <script>
        document.getElementById('current_tags').addEventListener('change', function () {
            let new_tag_input = document.getElementById('new_tag_input');
            new_tag_input.style.display = (this.value === 'add_new_tag') ? 'inline-block' : 'none';
            new_tag_input.required = (this.value === 'add_new_tag');
        });
    </script>


</body>
{% endblock %}